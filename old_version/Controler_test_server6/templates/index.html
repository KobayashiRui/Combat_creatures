<html>
  <head>
       <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js"
            integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc="
            crossorigin="anonymous"></script>
    <script>
        function changeColor(idname,color){
            var obj = document.getElementById(idname);
            if(color == 0){
                obj.style.backgroundColor = "#ffffff";
            }else if(color == 1){
            obj.style.backgroundColor = "#ff0000";
            }
        }
      jQuery(function ($) {
        // 親フレームのイベント
        $(window).on('blur', onMouseMove);
        $(window).on('focus', onMouseMove2);

        // 子フレームのイベント
        $('iframe').on('load', function () {
          $(this).contents().on('click', onMouseMove1);
        });

        function onMouseMove() {
          console.log('マウス動いた！');
          changeColor("target1",1);
          $('iframe:first').contents().find('#target2').text('control ON');
         //console.log($('target1').contents())
        }
        function onMouseMove1() {
          console.log('マウス動いた11！');
           
        }
        function onMouseMove2() {
          console.log('マウス動いた22！');
        }
      });
    </script> <title>Combat Controler</title>
  </head>
  <body focus= >
    <h1>Combat Controler</h1>
    <p><img src="{{ url_for('video_feed') }}">
    <iframe id="target1" src="controler.html" width="100" height="480" ></iframe>
    </p>
  </body>
</html>
